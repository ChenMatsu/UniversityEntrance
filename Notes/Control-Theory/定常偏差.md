### 定常特性
> 十分に時間が経ち、定常状態に落ち着いた時の特性をシステムの定常特性と呼ぶ

#### 定常偏差
> フィードバック制御に「制御量と目標値の間にある誤差を追従する」。一般には、偏差を0にするのが理想的である。

**目標値の種類**

1. スッテプ
    $$r(t) = 1 \quad R(s) = \dfrac{1}{s}$$
2. ランプ
    $$r(t) = t \quad R(s) = \dfrac{1}{s^2}$$
3. 加速度
    $$r(t) = \dfrac{t^2}{2} \quad R(s) = \dfrac{1}{s^3}$$

**最終値定理**
> 伝達関数のまま計算ができるので、面倒な逆ラプラス変換なしに分析が可能となる

$$\lim_{t\to∞}f(t) = \lim_{s\to0}sF(s)$$

<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2022/07/basic_fb_system_block.png"/>
</p>

**定常偏差の導出**
$$E(s) = R(s) - Y(s)\\\\\\
  E(s) = R(s) - C(s)G(s)E(s)\\\\\\
  E(s) = \dfrac{1}{1 + C(s)G(s)}R(s)\\\\\\
  e_s = \lim_{s\to0}sE(s) = \lim_{s\to0}s\dfrac{1}{1 + C(s)G(s)}R(s)$$

**スッテプに対する定常偏差**
$$e_s = \lim_{s\to0}s*\dfrac{1}{1 + C(s)G(s)}*\dfrac{1}{s}$$

目標値が打ち消されてたので $C(s)G(s)$ が∞になればよいである。

結論から言うと、**開ループ伝達関数 $C(s)G(s)$ が積分要素を1個以上持てば良い**。

> 積分要素が0個の時は一定の定常偏差が残っている。制御ゲインKが大き方が偏差が小さくなっているが入力飽和のリスクが高まる。

**ランプに対する定常偏差**
$$e_s = \lim_{s\to0}s*\dfrac{1}{1 + C(s)G(s)}*\dfrac{1}{s^2} = \lim_{s\to0}\dfrac{1}{s + sC(s)G(s)}$$

結論から言うと、**開ループ伝達関数 $C(s)G(s)$ が積分要素を2個以上持てば良い**。

> 積分要素が1個の時は一定の偏差が残っている、0個の時は時間と共に無限に大きくなってしまう。

**単位加速度に対する定常偏差**
$$e_s = \lim_{s\to0}s*\dfrac{1}{1 + C(s)G(s)}*\dfrac{1}{s^3} = \lim_{s\to0}\dfrac{1}{s^2 + s^2C(s)G(s)}$$

結論から言うと、**開ループ伝達関数 $C(s)G(s)$ が積分要素を3個以上持てば良い**。 

> 積分要素が2個の時は一定の偏差が残っている、1個以下の時は時間と共に無限に大きくなってしまう。

> 定常偏差を0にするためには、開ループシステムが目標値と同じ数の積分要素を持っていれば良い、これが**内部モデル原理**と呼ぶ。この定理はあくまで厳密に偏差を0にするための条件である。無理に積分要素を追加する必要はない。



