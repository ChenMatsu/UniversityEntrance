### 周波数応答
> sin波を入力すると、**定常状態の出力もsin波になる**。ただし、振幅と位相は変化する。

<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2021/01/frequency_response_schematic-1.png"/>
</p>

入力するsin波の周波数によって、以下のような状況が現れる。

**低周波数**
<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2020/12/low_frequency_response.png"/>
</p>

**中周波数**
<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2020/12/mid_frequency_response.png"/>
</p>

**高周波数**
<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2020/12/high_frequency_response.png"/>
</p>

フーリエ解析による、理論上どんな波形も様々な周波数のsin波に分解できる。この考え方を応用すると、どんな入力信号でもそれを様々な周波数のsin波に分解し、それぞれに対する出力の様子を見れば、システムの性質を周波数に基づいて評価できる。

<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2020/12/arbitrary_signal_frequency_response-1.png"/>
</p>

全周波数のsin波を入力するのが不可能です。アイデアとしては簡単で、sin波を**全周波数のsin波の和**を一つの信号として入力する。これは**インパルス関数**になることが知られている。つまり、インパルス関数に対する出力をフーリエ変換したものが、そのままシステムの周波数特性を表している。

<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2021/01/all_frequency_response.png"/>
</p>

このインパルス応答のフーリエ変換ですが、sに $j\omega$ を代入した $G(j\omega)$　により計算できる。

> 厳密にいうと、特定の条件にてインパルス応答のフーリエ変換と完全い一しなくなりますが、実用上は同一視してほとんど問題ない。
---
**例題**

一次遅れ系伝達関数
$$
  G(s) = \dfrac{K}{Ts + 1}\\
$$

$$
  \downarrow
$$

$$
  G(j\omega) = \dfrac{K}{1 + jT\omega} * \dfrac{1 - jT\omega}{1 - jT\omega} = \dfrac{K(1 - jT\omega)}{1 + (T\omega)^2} = \dfrac{K}{1 + (T\omega)^2} - j(\dfrac{KT\omega}{1 + (T\omega)^2}) = a + bj
$$

伝達関数に虚数を代入していると複素数となります。これを複素平面にプロットした時、複素平面上のベクトル $G(j\omega)$ と周波数特性は次のように：

- ベクトル絶対値 $|G(j\omega)|$：sin波の振幅が何倍になるか。(**ゲイン**)
- ベクトル偏角 $\angle G(j\omega)$：sin波の位相が何度ずれるか。(**位相**)

$$
  |G(j\omega)| = \sqrt{a^2 + b^2}\\
  \angle G(j\omega) = tan^{-1}(\dfrac{b}{a})
$$

<p align="center">
    <img src="https://controlabo.com/wp-content/uploads/2021/02/frequency_transfer_function_complex_plane_2.png"/>
</p>

